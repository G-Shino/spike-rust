## テストの利用
- 手順
1. 必要なデータや状態をセットアップする。
2. テスト対象のコードを走らせる。
3. 結果が想定通りかアサーションする。
- fnの前に`#[text]`を付け加えることで、
- 内部でpanicが起きるとERRORをはく
- assert!マクロは論理値を評価する
- assert_eq!は値の比較を行う DebugトレイトとPartialEqトレイトが必要
- `#[should_panic(expected="hoge")]`でエラー時の挙動確認

- --test-threadsでスレッド数を指定
- --nocaptureで通過したテストの出力も表示
- テストの関数名を渡すと単独実行できる 部分一致も可能
- ignore属性をつけた関数は基本無視される。　--ignoredで実行

- 単体テストと結合テスト

- 単体テストは同一ファイルないにかかれる
- `#[cfg(test)]`はcargo testのときのみ実行するよという意味

- 結合テストにはtestディレクトリが必要 各ファイルは個別のクレートとして扱われる
- --test　ファイル名で特定の結合テストのみ実行
- 結合テスト用のサブモジュールも作成可能
- ライブラリクレートのみがexternでimportできるので、バイナリクレートは結合テストできない
逆に言えば、バイナリクレートはそれ単体で実行可能だということ

